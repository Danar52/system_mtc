<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Input Data Dandori - Production System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/style/style_input_dandori.css">
</head>
<body>
    <div class="page-wrapper">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="8" fill="white"/>
                            <path d="M16 8L8 12V20L16 24L24 20V12L16 8Z" stroke="black" stroke-width="2" stroke-linejoin="round"/>
                            <path d="M16 16L8 12M16 16L24 12M16 16V24" stroke="black" stroke-width="2" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="logo-text">
                        <h1>PRD SYSTEM</h1>
                        <p>Production Management</p>
                    </div>
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="prod_input_dandori.html" class="nav-item active">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 3L3 7V13L10 17L17 13V7L10 3Z" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span>Input Dandori</span>
                </a>
                <a href="prod_achievement.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <rect x="2" y="4" width="16" height="12" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M6 8H14M6 12H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span>Input Achievement</span>
                </a>
                <a href="prod_dashb_dandori.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M3 8H17M8 3V17" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span>Dashboard Dandori</span>
                </a>
                <a href="prod_dashb_achv.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <rect x="3" y="8" width="4" height="9" rx="1" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="8" y="3" width="4" height="14" rx="1" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="13" y="10" width="4" height="7" rx="1" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span>Dashboard Achievement</span>
                </a>
                <a href="index.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 17H16C16.5523 17 17 16.5523 17 16V4C17 3.44772 16.5523 3 16 3H13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M8 13L3 10M3 10L8 7M3 10H13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Kembali ke Menu</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <div class="header-left">
                    <h2>Input Data Dandori</h2>
                    <p>Form pengisian data dandori produksi untuk monitoring waktu pergantian</p>
                </div>
                <div class="header-right">
                    <div class="info-badge">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="3" width="12" height="11" rx="2" stroke="currentColor" stroke-width="1.5"/>
                            <path d="M2 6H14M5 1V3M11 1V3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        <span class="badge-value" id="currentDate">Loading...</span>
                    </div>
                </div>
            </div>

            <!-- Alert Container -->
            <div id="alertContainer"></div>

            <!-- Form Container -->
            <div class="form-container">
                <form id="dandoriForm">
                    <!-- Section: Informasi Umum -->
                    <div class="form-section">
                        <div class="section-header">
                            <h3>Informasi Umum</h3>
                            <p>Data tanggal, operator dan mesin produksi</p>
                        </div>
                        <div class="form-grid">
                            <div class="form-field">
                                <label for="tanggal" class="field-label required">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="2" y="3" width="12" height="11" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M2 6H14M5 1V3M11 1V3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    Tanggal
                                </label>
                                <input 
                                    type="date" 
                                    id="tanggal" 
                                    class="field-input" 
                                    required
                                >
                            </div>
                            <div class="form-field">
                                <label for="shift" class="field-label required">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M8 4V8L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    Shift
                                </label>
                                <select id="shift" class="field-input" required>
                                    <option value="">Pilih Shift...</option>
                                    <option value="1">Shift 1</option>
                                    <option value="2">Shift 2</option>
                                    <option value="3">Shift 3</option>
                                </select>
                            </div>
                            <div class="form-field">
                                <label for="operator" class="field-label required">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="8" cy="5" r="3" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M2 14C2 11.2386 4.23858 9 7 9H9C11.7614 9 14 11.2386 14 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    Operator
                                </label>
                                <input 
                                    type="text" 
                                    id="operator" 
                                    class="field-input" 
                                    placeholder="Nama Operator..." 
                                    required
                                >
                            </div>
                            <div class="form-field">
                                <label for="selectMesin" class="field-label required">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="2" y="4" width="12" height="10" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M5 2V4M11 2V4M2 8H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    Mesin
                                </label>
                                <select id="selectMesin" class="field-input" onchange="updateLine()" required>
                                    <option value="" disabled selected>Loading Data...</option>
                                </select>
                                <div class="field-hint">
                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="7" cy="7" r="6" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M7 10V7M7 4H7.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    <span>Line Production: <strong id="lineBadge">-</strong></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section: Data Part -->
                    <div class="form-section">
                        <div class="section-header">
                            <h3>Data Part & Proses</h3>
                            <p>Identitas part dan proses yang di-dandori</p>
                        </div>
                        <div class="form-grid">
                            <div class="form-field full-width">
                                <label for="searchPartName" class="field-label required">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="7" cy="7" r="5" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M11 11L14 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    Nama Part / Dies
                                </label>
                                <div class="autocomplete-container">
                                    <input 
                                        type="text" 
                                        id="searchPartName" 
                                        class="field-input" 
                                        placeholder="Ketik untuk mencari nama part..." 
                                        autocomplete="off"
                                        required
                                    >
                                    <div class="autocomplete-list" id="autocompleteList"></div>
                                </div>
                                <div class="field-hint">
                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="7" cy="7" r="6" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M7 10V7M7 4H7.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    <span>Ketik minimal 2 karakter untuk mencari part</span>
                                </div>
                            </div>
                            <div class="form-field">
                                <label for="displayPartNo" class="field-label">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="3" y="2" width="10" height="12" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M6 5H10M6 8H10M6 11H8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    Part No
                                </label>
                                <input 
                                    type="text" 
                                    id="displayPartNo" 
                                    class="field-input" 
                                    placeholder="Otomatis terisi" 
                                    readonly
                                >
                            </div>
                            <div class="form-field">
                                <label for="displayIdProses" class="field-label">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2 8H14M8 2V14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    ID Proses
                                </label>
                                <input 
                                    type="text" 
                                    id="displayIdProses" 
                                    class="field-input" 
                                    placeholder="Otomatis terisi" 
                                    readonly
                                >
                            </div>
                            <div class="form-field">
                                <label for="displayNamaProses" class="field-label">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="2" y="4" width="12" height="8" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                        <circle cx="8" cy="8" r="2" fill="currentColor"/>
                                    </svg>
                                    Nama Proses
                                </label>
                                <input 
                                    type="text" 
                                    id="displayNamaProses" 
                                    class="field-input" 
                                    placeholder="Otomatis terisi" 
                                    readonly
                                >
                            </div>
                            <div class="form-field">
                                <label for="displayStdTime" class="field-label">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M8 4V8L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    Standard Dandori (Menit)
                                </label>
                                <input 
                                    type="text" 
                                    id="displayStdTime" 
                                    class="field-input std-time-display" 
                                    placeholder="0" 
                                    readonly
                                >
                            </div>
                        </div>
                    </div>

                    <!-- Section: Rincian Aktivitas -->
                    <div class="form-section">
                        <div class="section-header">
                            <h3>Rincian Aktivitas Dandori</h3>
                            <p>Input kode aktivitas dan durasi dalam menit</p>
                        </div>

                        <div class="activities-wrapper">
                            <table class="activities-table">
                                <thead>
                                    <tr>
                                        <th style="width: 20%;">
                                            <div class="table-header">
                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect x="2" y="2" width="12" height="12" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                                    <path d="M5 7H11M8 4V11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                                </svg>
                                                Kode
                                            </div>
                                        </th>
                                        <th style="width: 45%;">
                                            <div class="table-header">
                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M2 4H14M2 8H14M2 12H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                                </svg>
                                                Deskripsi
                                            </div>
                                        </th>
                                        <th style="width: 25%;">
                                            <div class="table-header">
                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
                                                    <path d="M8 4V8L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                                </svg>
                                                Menit
                                            </div>
                                        </th>
                                        <th style="width: 10%;"></th>
                                    </tr>
                                </thead>
                                <tbody id="matrixBody">
                                </tbody>
                            </table>

                            <button type="button" class="btn-add-row" onclick="addRow()">
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M6 9H12M9 6V12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                <span>Tambah Baris Aktivitas</span>
                            </button>

                            <div class="total-box">
                                <div class="total-left">
                                    <div class="total-label">
                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5"/>
                                            <path d="M10 6V10L13 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                        </svg>
                                        <span>Total Aktual Dandori</span>
                                    </div>
                                    <span class="status-badge" id="statusLabel">-</span>
                                </div>
                                <div class="total-right">
                                    <span class="total-value" id="totalAktual">0</span>
                                    <span class="total-unit">Menit</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="resetForm()">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2 9C2 5.13401 5.13401 2 9 2C12.866 2 16 5.13401 16 9C16 12.866 12.866 16 9 16C5.13401 16 2 12.866 2 9Z" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M9 5V9L11.5 11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span>Reset Form</span>
                        </button>
                        <button type="submit" class="btn-primary" id="btnSubmit">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 2L3 6V12L9 16L15 12V6L9 2Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                                <path d="M9 9L3 6M9 9L15 6M9 9V16" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                            </svg>
                            <span>Simpan Data</span>
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>

    <script src="assets/js/script_prod_dandori.js"></script>
</body>
</html>